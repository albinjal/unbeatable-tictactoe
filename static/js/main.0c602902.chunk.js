(this.webpackJsonptictactoe=this.webpackJsonptictactoe||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var r,i=n(0),o=n.n(i),a=n(4),c=n.n(a),s=(n(14),n(7)),l=n(8),u=n(5),f=n(6);!function(e){e[e.Cross=1]="Cross",e[e.Circle=-1]="Circle",e[e.Empty=0]="Empty"}(r||(r={}));var h=function e(t,n){var i=this;Object(f.a)(this,e),this.tiles=void 0,this.playerTurn=void 0,this.width=3,this.heigth=3,this.calcTotalTiles=function(){return i.width*i.heigth},this.minMaxOutcome=function(){var e=i.wonGame();if(e)return e;if(0===i.okMoves().length)return r.Empty;var t,n=i.otherPlayer(),o=Object(u.a)(i.okMoves());try{for(o.s();!(t=o.n()).done;){var a=t.value,c=i.makeMove(a).minMaxOutcome();c*i.playerTurn>n*i.playerTurn&&(n=c)}}catch(s){o.e(s)}finally{o.f()}return n},this.okMoves=function(){var e=[];return i.tiles.forEach((function(t,n){t===r.Empty&&e.push(n)})),e},this.makeMove=function(t){var n=Object(l.a)(i.tiles);return n[t]=i.playerTurn,new e(i.otherPlayer(),n)},this.otherPlayer=function(){return i.playerTurn===r.Circle?r.Cross:r.Circle},this.wonGame=function(){var e=i.rowWin();if(e)return e;var t=i.colWin();if(t)return t;var n=i.dia1Win();return n||i.dia2Win()},this.rowWin=function(){for(var e=i.calcTotalTiles()-i.width,t=0;t<=e;t+=i.width){var n=i.tiles[t];if(n!==r.Empty)for(var o=t+i.width-1,a=0;a<=o;a++){var c=t+a;if(i.tiles[c]!==n)break;if(c===o)return n}}return r.Empty},this.colWin=function(){for(var e=i.calcTotalTiles(),t=0;t<i.width;t++){var n=i.tiles[t];if(n!==r.Empty)for(var o=e-i.width+t,a=i.width;a<=o;a+=i.width){var c=t+a;if(i.tiles[c]!==n)break;if(c===o)return n}}return r.Empty},this.dia1Win=function(){for(var e=i.tiles[0],t=i.calcTotalTiles(),n=i.width+1;n<t;n+=i.width+1)if(i.tiles[n]!==e)return r.Empty;return e},this.dia2Win=function(){for(var e=i.width-1,t=i.tiles[e],n=i.calcTotalTiles(),o=2*e;o<=n-i.width;o+=e)if(i.tiles[o]!==t)return r.Empty;return t},this.playerTurn=t,this.tiles=n||new Array(this.calcTotalTiles()).fill(r.Empty)},v=function(e){var t=e.status,n=e.onClick;return o.a.createElement("div",{onClick:n,className:"tile status-".concat(t.toString())},d(t))},d=function(e){switch(e){case r.Cross:return"X";case r.Circle:return"O";default:return""}},m=function(e){console.time("BestMove");var t=e.okMoves(),n=e.otherPlayer(),r=t[0];return t.forEach((function(t){var i=e.makeMove(t).minMaxOutcome();i*e.playerTurn>n*e.playerTurn&&(n=i,r=t)})),console.log("worstcase: ",n),console.timeEnd("BestMove"),r},w=!1,p=r.Cross,y=function(){var e=Object(i.useState)(new h(r.Circle)),t=Object(s.a)(e,2),n=t[0],a=t[1],c=function(e){var t=e.wonGame();return t?(setTimeout((function(){alert(t===r.Circle?"You Won!":"Computer Won!"),l()})),!1):0!==e.okMoves().length||(setTimeout((function(){alert("Draw!"),l()})),!1)},l=function(){var e=new h(w?-1*p:p);w||setTimeout((function(){return a(e.makeMove(m(e)))}),300),setTimeout((function(){return a(e)})),w=!w};return o.a.createElement("div",{className:"wrapper"},o.a.createElement("h1",null,"Unbeatable Tic Tac Toe"),o.a.createElement("div",{className:"board"},n.tiles.map((function(e,t){return o.a.createElement(v,{status:e,onClick:function(){if(n.tiles[t]===r.Empty&&n.playerTurn!==p){var e=n.makeMove(t);if(a(e),c(e)){var i=e.makeMove(m(e));setTimeout((function(){a(i),c(i)}),300)}}},key:t})}))),o.a.createElement("span",{className:"turn"},o.a.createElement("h3",null,n.playerTurn===r.Circle?"Your ":"Computers ","Turn")))};var T=function(){return o.a.createElement(y,null)},g=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function k(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(T,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/unbeatable-tictactoe",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/unbeatable-tictactoe","/service-worker.js");g?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):k(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):k(t,e)}))}}()},9:function(e,t,n){e.exports=n(15)}},[[9,1,2]]]);
//# sourceMappingURL=main.0c602902.chunk.js.map